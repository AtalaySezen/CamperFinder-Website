<div class="w-full mx-auto h-full" *ngIf="loadingSpinner">
    <app-loader></app-loader>
</div>
<aside id="default-sidebar"
    class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0"
    aria-label="Sidebar" *ngIf="!loadingSpinner">
    <app-sidebar></app-sidebar>

</aside>

<div class="p-4 sm:ml-64">
    <div>
        <div class="flex flex-col w-full mt-5">
            <h1 class="text-3xl font-normal m-0 header ">
                CamperFinder
            </h1>
            <div class="w-full my-5">
                <button (click)="openNewDialog()" mat-raised-button color="primary">
                    Add New Place
                </button>
            </div>
        </div>
    </div>

    <section class=" flex flex-col w-full h-full mt-0">
        <div
            class="bg-foreground rounded-full border px-4 max-w-[300px] flex-auto flex items-center mb-5 border-gray-300">
            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="search"></mat-icon>

            <input (keyup)="applyFilter($event)" placeholder="Search"
                class="px-4 py-2 border-0 outline-none w-full bg-transparent" type="search" #input>
        </div>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-full " matSort>

            <ng-container matColumnDef="number">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Number</th>
                <td mat-cell *matCellDef="let element"> {{element.num}} </td>
            </ng-container>
            <ng-container matColumnDef="adress">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> City</th>
                <td mat-cell *matCellDef="let element"> {{element.adress}} </td>
            </ng-container>


            <ng-container matColumnDef="image1">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Image1</th>
                <td mat-cell *matCellDef="let element"> {{element.image1|slice:0:15}} </td>
            </ng-container>


            <ng-container matColumnDef="image2">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Image2 </th>
                <td mat-cell *matCellDef="let element"> {{element.image2|slice:0:15}} </td>
            </ng-container>

            <ng-container matColumnDef="image3">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Image3 </th>
                <td mat-cell *matCellDef="let element"> {{element.image3|slice:0:15}} </td>
            </ng-container>
            <ng-container matColumnDef="internet">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Internet</th>
                <td mat-cell *matCellDef="let element"> {{element.internet}} </td>
            </ng-container>

            <ng-container matColumnDef="market">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Market</th>
                <td mat-cell *matCellDef="let element"> {{element.market}} </td>
            </ng-container>
            <ng-container matColumnDef="shower">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Shower</th>
                <td mat-cell *matCellDef="let element"> {{element.shower}} </td>
            </ng-container>
            <ng-container matColumnDef="toilet">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Toilet</th>
                <td mat-cell *matCellDef="let element"> {{element.toilet}} </td>
            </ng-container>


            <ng-container matColumnDef="actions">
                <th mat-header-cell mat-sort-header *matHeaderCellDef> Action</th>
                <td mat-cell *matCellDef="let element">
                    <button type="button" mat-button
                        (click)="openDialog(element.num,element.adress,element.image1,element.image2,element.image3,element.internet,element.market,element.shower,element.toilet,element.alt)">
                        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="edit"></mat-icon>
                    </button>
                    <button type="button" mat-button style="color:red;" (click)="deleteMail(element._id)">
                        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="delete"></mat-icon>
                    </button>
                </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of datas" class="sticky left-0">
        </mat-paginator>

    </section>

</div>