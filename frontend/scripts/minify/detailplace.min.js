let swiper=new Swiper(".mySwiper",{pagination:{el:".swiper-pagination",type:"progressbar"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),iconCheck=`<svg class="icon-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" />
</svg>`,iconCross=`<svg class="icon-cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z" />
</svg>`,detailPlaces="https://camperfinder.org/node/node2/",loader=document.getElementById("loaderCompass"),iconsDiv=document.getElementById("icons-group"),detailsHtml=document.getElementById("details-info");async function placesApi(e){let i=await fetch(e);data=await i.json(),detailInfo(),showPlaces(data),shuffleData()}placesApi(detailPlaces);let choosenCity;async function showPlaces(){let e="",i=new URL(document.location).searchParams.get("id"),n="",t=document.getElementById("suggestion-cards");await data.map(n=>{if(i!=n.num)return!1;document.title="CamperFinder | "+n.campPlaceName,e+=`
            <h1 class="header-detail">${n.campPlaceName} Hakkında</h1>
            <p class="detail-subheader">${n.info}</p>
            </div> `,detailsHtml.innerHTML=e,choosenCity=n.city}),await splicedCity.slice(0,3).map(e=>{n+=`
     <div class="card-flex" onclick="goDetail(${e.num})">
     <div class="places-card" style="background-image:url('${e.image}');">
     </div>
     <h1 class="header-place2">${e.campPlaceName}</h1>
     <p class="info-place">${e.info}</p>
     <a class="read-all" onclick="goDetail(${e.num})">Devamını Oku</a>
     </div>`,t.innerHTML=n})}let splicedCity=[];function shuffleData(){let e=[];(e=data.sort(()=>.52-Math.random())).map(e=>{choosenCity==e.city&&splicedCity.push(e)})}let detailInfoApi="http://camperfinder.org/node3/node4";async function detailInfo(){let e="",i=new URL(document.location).searchParams.get("id"),n=document.getElementById("swiper"),t=document.getElementById("icon-toilet"),a=document.getElementById("icon-internet"),s=document.getElementById("icon-market"),l=document.getElementById("icon-shower");fetch(detailInfoApi).then(e=>e.json()).then(c=>c.map(c=>{c.num==i&&(e+=`
                        <div class="swiper-slide">
                         <img src="${c.image1}" alt="${c.alt}">
                         </div>
                         <div class="swiper-slide">
                         <img src="${c.image2}" alt="${c.alt}">
                         </div>
                        <div class="swiper-slide">
                        <img src="${c.image3}"  alt="${c.alt}">
                        </div>`,n.innerHTML=e,n.classList.remove("none"),detailsHtml.classList.remove("none"),iconsDiv.classList.remove("none"),!0==c.toilet?t.innerHTML=iconCheck:t.innerHTML=iconCross,!0==c.internet?a.innerHTML=iconCheck:a.innerHTML=iconCross,!0==c.market?s.innerHTML=iconCheck:s.innerHTML=iconCross,!0==c.shower?l.innerHTML=iconCheck:l.innerHTML=iconCross),loader.style.display="none",document.getElementById("suggest-area").classList.remove("none")}))}function goDetail(e){let i=new URLSearchParams(`id=${e}`);i.get("?id"),i.get(e),window.location.href="detailplace.html?"+i}function backToPlaces(){let e=new URLSearchParams(`city=${choosenCity}`);e.get(choosenCity),window.location.href="kampyerleri.html?"+e}