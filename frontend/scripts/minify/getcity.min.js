const urlParams=new URLSearchParams(window.location.search),cityParam=urlParams.get("city");let apiPlaces=`https://camperfinder.org/api/camperfinder/city/city/${cityParam}`;async function placesApi(e){const a=await fetch(e);data=await a.json(),await showPlaces(data)}async function showPlaces(e){let a="",c=document.getElementById("istanbul"),l=document.getElementById("showLoader"),t=document.getElementById("header-camp"),n=new URL(document.location).searchParams.get("city"),i=n.charAt(0).toLocaleUpperCase()+n.slice(1),s=i.replace("g","ğ").replace("I","İ");e.map((e=>{document.title="CamperFinder | "+s+" Kamp Alanları",a+=`\n             <div class="card-flex " onclick="goDetail('${e._id}')">\n             <div class="places-card" style="background-image:url('${e.image}');">\n             </div>\n             <h1 class="header-place">${e.campPlaceName}</h1>\n             <p class="info-place">${e.info}</p>\n             <a class="read-all" onclick="goDetail('${e._id})">Devamını Oku</a>\n             </div>`,c.innerHTML=a,t.innerHTML=`${i} Kamp Alanları`,l.style.display="none";let n=document.querySelectorAll(".card-flex"),r=document.getElementById("show-more");if(r.addEventListener("click",(()=>{for(let e=9;e<n.length;e++)n[e].classList.remove("hide-card"),r.classList.add("hide-card")})),n.length>6){r.classList.remove("none");for(let e=6;e<n.length;e++)n[e].classList.add("hide-card")}}))}function goDetail(e){let a=new URLSearchParams(`id=${e}`);window.location.href="detailplace.html?"+a}placesApi(apiPlaces);